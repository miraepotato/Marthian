

===== C:\Users\admir\AndroidStudioProjects\Marthian\app\build.gradle.kts =====
import java.util.Properties

plugins {
    id("com.android.application")
    id("org.jetbrains.kotlin.plugin.compose")
}

val localProps = Properties().apply {
    val f = rootProject.file("local.properties")
    if (f.exists()) {
        f.inputStream().use { load(it) }
    }
}

val ncpId = localProps.getProperty("NCP_MAPS_CLIENT_ID") ?: ""
val ncpSecret = localProps.getProperty("NCP_MAPS_CLIENT_SECRET") ?: ""

// ???ㅼ씠踰?OpenAPI(吏????? ??
val naverSearchId = localProps.getProperty("NAVER_SEARCH_CLIENT_ID") ?: ""
val naverSearchSecret = localProps.getProperty("NAVER_SEARCH_CLIENT_SECRET") ?: ""

android {
    namespace = "com.example.marthianclean"
    compileSdk = 35

    defaultConfig {
        applicationId = "com.example.marthianclean"
        minSdk = 26
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"

        // ??NCP 吏??吏?ㅼ퐫?⑹슜
        buildConfigField("String", "NCP_MAPS_CLIENT_ID", "\"$ncpId\"")
        buildConfigField("String", "NCP_MAPS_CLIENT_SECRET", "\"$ncpSecret\"")
        manifestPlaceholders["NAVER_MAP_CLIENT_ID"] = ncpId

        // ???ㅼ씠踰?OpenAPI(吏???????
        buildConfigField("String", "NAVER_SEARCH_CLIENT_ID", "\"$naverSearchId\"")
        buildConfigField("String", "NAVER_SEARCH_CLIENT_SECRET", "\"$naverSearchSecret\"")
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }

    buildFeatures {
        buildConfig = true
    }
}

dependencies {
    implementation(platform("androidx.compose:compose-bom:2024.02.00"))
    implementation("androidx.compose.ui:ui")
    implementation("androidx.compose.ui:ui-graphics")
    implementation("androidx.compose.ui:ui-tooling-preview")
    implementation("androidx.activity:activity-compose:1.8.2")

    implementation("androidx.compose.material3:material3")
    implementation("androidx.compose.material3:material3-android:1.4.0")
    implementation("com.google.android.material:material:1.11.0")
    implementation("androidx.compose.material:material-icons-extended")

    implementation("androidx.navigation:navigation-compose:2.7.7")

    implementation("com.google.android.gms:play-services-maps:20.0.0")
    implementation("com.google.maps.android:maps-compose:4.3.3")
    implementation("com.naver.maps:map-sdk:3.21.0")
    implementation("io.github.fornewid:naver-map-compose:1.9.0")

    implementation("androidx.lifecycle:lifecycle-viewmodel-ktx:2.8.7")
    implementation("androidx.lifecycle:lifecycle-runtime-compose:2.8.7")
    implementation("androidx.lifecycle:lifecycle-viewmodel-compose:2.8.7")

    implementation("com.squareup.retrofit2:retrofit:2.9.0")
    implementation("com.squareup.retrofit2:converter-gson:2.9.0")
    implementation("com.squareup.okhttp3:okhttp:4.12.0")
    implementation("com.squareup.okhttp3:logging-interceptor:4.12.0")

    // ===== Test =====
    testImplementation("junit:junit:4.13.2")

    androidTestImplementation("androidx.test.ext:junit:1.1.5")
    androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")


    debugImplementation("androidx.compose.ui:ui-tooling")
    debugImplementation("androidx.compose.ui:ui-test-manifest")
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\proguard-rules.pro =====
# Add project specific ProGuard rules here.
# You can control the set of applied configuration files using the
# proguardFiles setting in build.gradle.
#
# For more details, see
#   http://developer.android.com/guide/developing/tools/proguard.html

# If your project uses WebView with JS, uncomment the following
# and specify the fully qualified class name to the JavaScript interface
# class:
#-keepclassmembers class fqcn.of.javascript.interface.for.webview {
#   public *;
#}

# Uncomment this to preserve the line number information for
# debugging stack traces.
#-keepattributes SourceFile,LineNumberTable

# If you keep the line number information, uncomment this to
# hide the original source file name.
#-renamesourcefileattribute SourceFile


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\androidTest\java\com\example\marthianclean\ExampleInstrumentedTest.kt =====
package com.example.marthianclean

import androidx.test.platform.app.InstrumentationRegistry
import androidx.test.ext.junit.runners.AndroidJUnit4

import org.junit.Test
import org.junit.runner.RunWith

import org.junit.Assert.*

/**
 * Instrumented test, which will execute on an Android device.
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
@RunWith(AndroidJUnit4::class)
class ExampleInstrumentedTest {
    @Test
    fun useAppContext() {
        // Context of the app under test.
        val appContext = InstrumentationRegistry.getInstrumentation().targetContext
        assertEquals("com.example.marthianclean", appContext.packageName)
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\AndroidManifest.xml =====
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android">

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.Marthian">

        <!-- Google Maps -->
        <meta-data
            android:name="com.google.android.geo.API_KEY"
            android:value="@string/google_maps_key" />

        <!-- Naver Map (local.properties -> manifestPlaceholders) -->
        <meta-data
            android:name="com.naver.maps.map.NCP_KEY_ID"
            android:value="${NAVER_MAP_CLIENT_ID}" />

        <activity
            android:name=".MainActivity"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

    </application>

</manifest>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\DispatchMatrixScreen.kt =====
@file:OptIn(ExperimentalFoundationApi::class)

package com.example.marthianclean

import androidx.compose.foundation.*

/* ================= CELLS ================= */



===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\MainActivity.kt =====
package com.example.marthianclean

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Surface
import androidx.compose.ui.Modifier
import com.example.marthianclean.navigation.MarthianNavHost

class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Surface(
                modifier = Modifier.fillMaxSize(),
                color = MaterialTheme.colorScheme.background
            ) {
                // AppNavGraph() ??? ?곕━媛 ?뺤떎??議댁옱?섎뒗 NavHost 吏곸젒 ?몄텧
                MarthianNavHost()
            }
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\MainScreen.kt =====
package com.example.marthianclean

import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Button
import androidx.compose.material3.Text
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp

@Composable
fun MainScreen() {

    var count by remember { mutableStateOf(0) }

    // count 媛믪뿉 ?곕씪 蹂댁뿬以?硫붿떆吏 寃곗젙
    val message = when {
        count < 3 -> "?꾩쭅 ?쒖옉 ?④퀎"
        count < 6 -> "?ъ뒳 媛??〓뒗 以?
        else -> "?댁젣 醫 ?쒕떎 ?뵦"
    }

    Column(
        modifier = Modifier.padding(16.dp)
    ) {
        Text(text = "踰꾪듉 ?대┃ ?잛닔: $count")
        Text(
            text = message,
            modifier = Modifier.padding(top = 8.dp)
        )

        Button(
            onClick = { count++ },
            modifier = Modifier.padding(top = 12.dp)
        ) {
            Text(text = "?뚮윭遊?)
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\model\Incident.kt =====
package com.example.marthianclean.model

import java.util.UUID

data class Incident(
    val id: String = UUID.randomUUID().toString(),
    val address: String,
    val latitude: Double,
    val longitude: Double,
    val disasterType: String = "FIRE",
    val timestamp: Long = System.currentTimeMillis(),
    val editable: Boolean = true
)


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\navigation\AppNavGraph.kt =====
package com.example.marthianclean.navigation

import androidx.compose.runtime.Composable

/**
 * ?꾨줈?앺듃 ?대뵖媛(MainActivity ???먯꽌 AppNavGraph()瑜??몄텧?섍퀬 ?덉쓣 ???덉뼱??
 * 湲곗〈 吏꾩엯?먯쓣 ?좎??섎㈃???ㅼ젣 ?대퉬寃뚯씠?섏? MarthianNavHost濡??꾩엫?⑸땲??
 *
 * ?대젃寃??섎㈃ AppNavGraph ?대????뚮씪誘명꽣 瑗ъ엫/Unresolved reference 臾몄젣瑜??먯쿇 李⑤떒?⑸땲??
 */
@Composable
fun AppNavGraph() {
    MarthianNavHost()
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\navigation\EntryRoute.kt =====
package com.example.marthianclean.navigation

sealed class EntryRoute(val route: String) {

    object Banner : EntryRoute("banner")
    object FieldSelect : EntryRoute("field_select")
    object AddressSearch : EntryRoute("address_search")

    object MapPreview : EntryRoute("map_preview?address={address}") {
        fun createRoute(address: String): String =
            "map_preview?address=$address"
    }

    object SatelliteLoading : EntryRoute("satellite_loading")

    object SituationBoard : EntryRoute("situation_board?editable={editable}") {
        fun createRoute(editable: Boolean): String =
            "situation_board?editable=$editable"
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\navigation\MarthianNavHost.kt =====
package com.example.marthianclean.navigation

import androidx.compose.runtime.Composable
import androidx.lifecycle.viewmodel.compose.viewModel
import androidx.navigation.compose.NavHost
import androidx.navigation.compose.composable
import androidx.navigation.compose.rememberNavController
import com.example.marthianclean.ui.banner.BannerScreen
import com.example.marthianclean.ui.dispatch.DispatchMatrixScreen
import com.example.marthianclean.ui.field.AddressSearchScreen
import com.example.marthianclean.ui.field.FieldSelectScreen
import com.example.marthianclean.ui.field.IncidentEditHubScreen
import com.example.marthianclean.ui.situation.SatelliteLoadingScreen
import com.example.marthianclean.ui.situation.SituationBoardScreen
import com.example.marthianclean.viewmodel.IncidentViewModel

object Routes {
    const val Banner = "banner"
    const val FieldSelect = "field_select"
    const val AddressSearch = "address_search"
    const val SatelliteLoading = "satellite_loading"
    const val SituationBoard = "situation_board"

    // ??醫뚯뒳?쇱씠???덈툕
    const val IncidentEditHub = "incident_edit_hub"

    // ??異쒕룞? ?몄꽦(留ㅽ듃由?뒪) ?붾㈃
    const val DispatchMatrix = "dispatch_matrix"
}

@Composable
fun MarthianNavHost() {
    val navController = rememberNavController()

    // ??Incident 怨듭쑀 ViewModel (NavHost 踰붿쐞?먯꽌 怨듭쑀)
    val incidentViewModel: IncidentViewModel = viewModel()

    NavHost(
        navController = navController,
        startDestination = Routes.Banner
    ) {

        composable(Routes.Banner) {
            BannerScreen(
                onFinished = { navController.navigate(Routes.FieldSelect) }
            )
        }

        // ?????꾩옣 ?쒖옉/吏???꾩옣 ?좏깮 ?붾㈃
        composable(Routes.FieldSelect) {
            FieldSelectScreen(
                onNewIncident = { navController.navigate(Routes.AddressSearch) },
                onPastIncidents = { navController.navigate(Routes.SituationBoard) },
                onBack = { navController.popBackStack() }
            )
        }

        // ??二쇱냼 寃??-> onDone(incident)?쇰줈 諛쏅뒗 援ъ“ ?좎?
        composable(Routes.AddressSearch) {
            AddressSearchScreen(
                onDone = { incident ->
                    incidentViewModel.setIncident(incident)
                    navController.navigate(Routes.SatelliteLoading)
                },
                onBack = { navController.popBackStack() }
            )
        }

        // ???꾩꽦 濡쒕뵫 -> 理쒖냼 1.2珥?蹂댁옣 ???곹솴??
        composable(Routes.SatelliteLoading) {
            SatelliteLoadingScreen(
                onFinished = {
                    navController.navigate(Routes.SituationBoard) {
                        popUpTo(Routes.Banner) { inclusive = false }
                    }
                }
            )
        }

        // ???곹솴??
        composable(Routes.SituationBoard) {
            SituationBoardScreen(
                incidentViewModel = incidentViewModel,
                onEdit = { navController.navigate(Routes.IncidentEditHub) },
                onExit = {
                    navController.navigate(Routes.Banner) {
                        popUpTo(Routes.Banner) { inclusive = true }
                    }
                }
            )
        }

        // ??醫뚯뒳?쇱씠???덈툕
        composable(Routes.IncidentEditHub) {
            IncidentEditHubScreen(
                onEditMatrix = {
                    // ?뵦 ?ш린??吏꾩쭨 留ㅽ듃由?뒪 ?붾㈃?쇰줈 ?대룞
                    navController.navigate(Routes.DispatchMatrix)
                },
                onEditInfo = {
                    navController.navigate(Routes.AddressSearch)
                },
                onBack = {
                    navController.popBackStack()
                }
            )
        }

        // ??異쒕룞? ?몄꽦(留ㅽ듃由?뒪)
        composable(Routes.DispatchMatrix) {
            DispatchMatrixScreen()
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\navigation\Routes.kt =====
package com.example.marthianclean.ui.nav

object Routes {
    const val BANNER = "banner"
    const val FIELD_SELECT = "field_select"
    const val ADDRESS_SEARCH = "address_search"
    const val SATELLITE_LOADING = "satellite_loading"
    const val SITUATION_BOARD = "situation_board"
    const val PAST_INCIDENTS = "past_incidents"
    const val IncidentEditHub = "incident_edit_hub"
    const val MatrixEdit = "matrix_edit"
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\network\GeocodeResponse.kt =====
// GeocodeResponse.kt  (?뚯씪紐낆? ?뺣떂 ?꾨줈?앺듃 ?ㅽ??쇱뿉 留욊쾶 ?좎??섏뀛???⑸땲??
package com.example.marthianclean.network

data class GeocodeResponse(
    val status: String? = null,
    val addresses: List<GeocodeAddress> = emptyList()
)

data class GeocodeAddress(
    val roadAddress: String? = null,
    val jibunAddress: String? = null,
    val englishAddress: String? = null,
    val x: String? = null, // 寃쎈룄(longitude)
    val y: String? = null  // ?꾨룄(latitude)
)


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\network\GeocodingRepository.kt =====
// GeocodingRepository.kt
package com.example.marthianclean.network

class GeocodingRepository(
    private val service: NaverGeocodingService
) {
    data class Success(
        val resolvedAddress: String,
        val latitude: Double,
        val longitude: Double
    )

    sealed class Outcome {
        data class Ok(val data: Success) : Outcome()
        data class Fail(val reason: String) : Outcome()
    }

    suspend fun geocode(query: String): Outcome {
        val raw = query.trim()
        if (raw.isEmpty()) return Outcome.Fail("寃?됱뼱媛 鍮꾩뼱?덉쓬")

        // ??1李? ?먮Ц 洹몃?濡??쒕룄 (POI/二쇱냼 紐⑤몢 ???
        val firstTry = request(raw)
        if (firstTry is Outcome.Ok) return firstTry

        // ??2李? 二쇱냼 ?뚰듃 遺숈뿬???ъ떆??(POI ?낅젰 ???뺥솗??蹂댁셿)
        val secondQuery = refineAsAddressHint(raw)
        // 1李④? ?대? "二쇱냼"媛 ?ы븿??寃껉낵 ?좎궗?섎㈃ 以묐났 ?쒕룄 諛⑹?
        if (secondQuery == raw) return firstTry

        return request(secondQuery)
    }

    private fun refineAsAddressHint(raw: String): String {
        val looksLikeAddress =
            raw.contains("濡?) || raw.contains("湲?) || raw.contains("??) || raw.contains("??) ||
                    raw.contains("硫?) || raw.contains("由?) || raw.contains("??) || raw.contains("援?) || raw.contains("踰덉?")

        return if (looksLikeAddress) raw else "$raw 二쇱냼"
    }

    private suspend fun request(query: String): Outcome {
        val resp = try {
            service.geocode(query = query)
        } catch (e: Exception) {
            return Outcome.Fail("?ㅽ듃?뚰겕 ?덉쇅: ${e.message ?: "unknown"}")
        }

        // ??HTTP ?먮윭硫?肄붾뱶/諛붾뵒 ?몄텧 (?먯씤 ?뺤젙??
        if (!resp.isSuccessful) {
            val errBody = try { resp.errorBody()?.string() } catch (_: Exception) { null }
            android.util.Log.e("GEOCODE_HTTP", "code=${resp.code()} msg=${resp.message()} err=${errBody ?: "null"}")
            // UI??reason? ?덈Т 湲몃㈃ 吏?遺꾪븯???붿빟
            val brief = "HTTP ${resp.code()} ${resp.message()}".trim()
            return Outcome.Fail(if (errBody.isNullOrBlank()) brief else "$brief | ${errBody.take(300)}")
        }

        val body = resp.body()
            ?: return Outcome.Fail("HTTP 200?몃뜲 body媛 null")

        val first = body.addresses.firstOrNull()
            ?: return Outcome.Fail("寃??寃곌낵 0嫄?(query=$query)")

        val lat = first.y?.toDoubleOrNull()
            ?: return Outcome.Fail("?꾨룄 ?뚯떛 ?ㅽ뙣(y=${first.y})")

        val lng = first.x?.toDoubleOrNull()
            ?: return Outcome.Fail("寃쎈룄 ?뚯떛 ?ㅽ뙣(x=${first.x})")

        val resolved = first.roadAddress ?: first.jibunAddress ?: query

        return Outcome.Ok(
            Success(
                resolvedAddress = resolved,
                latitude = lat,
                longitude = lng
            )
        )
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\network\NaverGeocodingService.kt =====
package com.example.marthianclean.network

import retrofit2.Response
import retrofit2.http.GET
import retrofit2.http.Query

interface NaverGeocodingService {

    // display=10 異붽?
    @GET("map-geocode/v2/geocode")
    suspend fun geocode(
        @Query("query") query: String,
        @Query("display") display: Int = 10   // ?뵦 理쒕? 10媛??붿껌
    ): Response<GeocodeResponse>
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\network\NaverLocalModels.kt =====
package com.example.marthianclean.network

import com.google.gson.annotations.SerializedName

data class NaverLocalSearchResponse(
    @SerializedName("items") val items: List<NaverLocalItem> = emptyList()
)

data class NaverLocalItem(
    @SerializedName("title") val title: String? = null,
    @SerializedName("roadAddress") val roadAddress: String? = null,
    @SerializedName("address") val address: String? = null
)


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\network\NaverLocalSearchService.kt =====
package com.example.marthianclean.network

import retrofit2.http.GET
import retrofit2.http.Header
import retrofit2.http.Query

interface NaverLocalSearchService {

    @GET("v1/search/local.json")
    suspend fun searchLocal(
        @Header("X-Naver-Client-Id") clientId: String,
        @Header("X-Naver-Client-Secret") clientSecret: String,
        @Query("query") query: String,
        @Query("display") display: Int = 5,
        @Query("sort") sort: String = "random"
    ): NaverLocalSearchResponse
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\network\RetrofitClient.kt =====
package com.example.marthianclean.network

import com.example.marthianclean.BuildConfig
import okhttp3.OkHttpClient
import okhttp3.logging.HttpLoggingInterceptor
import retrofit2.Retrofit
import retrofit2.converter.gson.GsonConverterFactory

object RetrofitClient {

    // =========================
    // 1) NCP Geocoding (maps.apigw.ntruss.com)
    // =========================
    private val ncpOkHttp: OkHttpClient by lazy {
        val logging = HttpLoggingInterceptor().apply {
            level = HttpLoggingInterceptor.Level.BASIC
        }

        OkHttpClient.Builder()
            .addInterceptor { chain ->
                val req = chain.request().newBuilder()
                    // ??NCP Geocoding ?몄쬆 ?ㅻ뜑
                    .addHeader("x-ncp-apigw-api-key-id", BuildConfig.NCP_MAPS_CLIENT_ID)
                    .addHeader("x-ncp-apigw-api-key", BuildConfig.NCP_MAPS_CLIENT_SECRET)
                    .build()
                chain.proceed(req)
            }
            .addInterceptor(logging)
            .build()
    }

    private val ncpRetrofit: Retrofit by lazy {
        Retrofit.Builder()
            .baseUrl("https://maps.apigw.ntruss.com/")
            .client(ncpOkHttp)
            .addConverterFactory(GsonConverterFactory.create())
            .build()
    }

    // ???뺣떂 湲곗〈 肄붾뱶媛 ???대쫫???ъ슜 以?
    val geocodingService: NaverGeocodingService by lazy {
        ncpRetrofit.create(NaverGeocodingService::class.java)
    }

    // =========================
    // 2) Naver OpenAPI Local Search (openapi.naver.com)
    // =========================
    private val openApiRetrofit: Retrofit by lazy {
        Retrofit.Builder()
            .baseUrl("https://openapi.naver.com/")
            .addConverterFactory(GsonConverterFactory.create())
            .build()
    }

    val localSearchService: NaverLocalSearchService by lazy {
        openApiRetrofit.create(NaverLocalSearchService::class.java)
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\banner\BannerScreen.kt =====
package com.example.marthianclean.ui.banner

import androidx.compose.foundation.Canvas
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.*
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.runtime.LaunchedEffect
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.geometry.Offset
import androidx.compose.ui.graphics.*
import androidx.compose.ui.graphics.drawscope.Stroke
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.sp
import kotlinx.coroutines.delay

private val MarsOrange = Color(0xFFFF8C00)
private val MarsLightOrange = Color(0xFFFFA040)

@Composable
fun BannerScreen(
    onFinished: () -> Unit
) {
    LaunchedEffect(Unit) {
        delay(5000L)
        onFinished()
    }

    Box(
        modifier = Modifier
            .fillMaxSize()
            .background(Color.Black),
        contentAlignment = Alignment.Center
    ) {

        Canvas(modifier = Modifier.fillMaxSize()) {

            val center = center
            val radius = size.minDimension * 0.26f

            // 肄붾줈???덇컻
            drawCircle(
                brush = Brush.radialGradient(
                    colors = listOf(
                        MarsLightOrange.copy(alpha = 0.45f),
                        MarsOrange.copy(alpha = 0.25f),
                        MarsOrange.copy(alpha = 0.12f),
                        Color.Transparent
                    ),
                    center = center,
                    radius = radius * 2.2f
                ),
                radius = radius * 2.2f,
                center = center
            )

            // ?대? 寃? ??
            drawCircle(
                color = Color.Black,
                radius = radius,
                center = center
            )

            // 二쇳솴???ㅼ꽑 ?뚮몢由?
            drawCircle(
                color = MarsOrange,
                radius = radius,
                center = center,
                style = Stroke(width = 6f)
            )
        }

        Column(
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Text(
                text = "Marthian",
                fontSize = 48.sp,
                fontWeight = FontWeight.Bold,
                color = MarsOrange
            )

            Text(
                text = "produced by Choe CheolHwan",
                fontSize = 12.sp,
                color = Color.Gray
            )
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\dispatch\DispatchMatrixScreen.kt =====
package com.example.marthianclean.ui.dispatch

import android.view.HapticFeedbackConstants
import androidx.compose.foundation.ExperimentalFoundationApi   // ??異붽?
import androidx.compose.foundation.background
import androidx.compose.foundation.border
import androidx.compose.foundation.clickable
import androidx.compose.foundation.combinedClickable
import androidx.compose.foundation.horizontalScroll
import androidx.compose.foundation.interaction.MutableInteractionSource
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.rememberScrollState
import androidx.compose.foundation.text.BasicTextField
import androidx.compose.foundation.text.KeyboardActions
import androidx.compose.foundation.text.KeyboardOptions
import androidx.compose.foundation.verticalScroll
import androidx.compose.material3.Text
import androidx.compose.runtime.*
import androidx.compose.runtime.snapshots.SnapshotStateList
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.focus.FocusRequester
import androidx.compose.ui.focus.focusRequester
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.platform.LocalFocusManager
import androidx.compose.ui.platform.LocalView
import androidx.compose.ui.text.TextStyle
import androidx.compose.ui.text.input.ImeAction
import androidx.compose.ui.text.style.TextAlign
import androidx.compose.ui.unit.Dp
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp

/* COLORS */
private val BackgroundBlack = Color(0xFF0E0E0E)
private val TextPrimary = Color(0xFFF0F0F0)
private val OrangePrimary = Color(0xFFFF9800)
private val NeonGreen = Color(0xFF76FF03)
private val BorderGray = Color(0xFF2E2E2E)

/* SIZES */
private val HeaderHeight = 48.dp
private val CellHeight = 46.dp
private val ColumnWidth = 140.dp
private val RowHeaderWidth = 220.dp
private val CellPadding = 4.dp

@OptIn(ExperimentalFoundationApi::class)   // ??????以꾩씠 ?듭떖
@Composable
fun DispatchMatrixScreen() {

    val view = LocalView.current
    val focusManager = LocalFocusManager.current
    val hScroll = rememberScrollState()
    val vScroll = rememberScrollState()

    val departments = remember {
        mutableStateListOf(
            "?λ궓?쇳꽣", "?묎컧吏???", "?⑥뼇?쇳꽣", "?쒖떊吏???", "?쒕?吏???",
            "?뷀깂?쇳꽣", "?μ븞?쇳꽣", "?덉넄?쇳꽣", "?붿꽦援ъ“?",
            "?뺣궓?쇳꽣", "諛섏넚?쇳꽣", "?쒖븞?쇳꽣", "留덈룄吏???",
            "留ㅼ넚吏???", "紐⑸룞?쇳꽣",
            "?덉쨷?쇳꽣(?됲깮)", "?ъ듅?쇳꽣(?됲깮)", "?쒗깂?쇳꽣(?≫깂)",
            "?멸탳?쇳꽣(?ㅼ궛)", "泥?븰?쇳꽣(?ㅼ궛)", "諛섏썡?쇳꽣(?덉궛)"
        )
    }

    val equipments = remember {
        mutableStateListOf(
            "?뚰봽李?, "?깊겕李?, "?뷀븰李?, "怨좉??щ떎由ъ감",
            "援댁젅李?, "臾댁씤諛⑹닔?뚭눼", "援ъ“怨듭옉李?,
            "?λ퉬?대컲李?, "援ш툒李?
        )
    }

    val matrix = remember {
        mutableStateListOf<SnapshotStateList<Int>>().apply {
            repeat(departments.size) {
                add(
                    mutableStateListOf<Int>().apply {
                        repeat(equipments.size) { add(0) }
                    }
                )
            }
        }
    }

    var editingDept by remember { mutableStateOf<Int?>(null) }
    var editingEquip by remember { mutableStateOf<Int?>(null) }

    Column(
        modifier = Modifier
            .fillMaxSize()
            .background(BackgroundBlack)
    ) {
        Column(
            modifier = Modifier
                .verticalScroll(vScroll)
                .horizontalScroll(hScroll)
                .padding(8.dp)
        ) {

            /* ===== HEADER ROW ===== */
            Row {
                Box(
                    modifier = Modifier
                        .width(RowHeaderWidth)
                        .height(HeaderHeight)
                )

                equipments.forEachIndexed { i, name ->
                    EditableHeaderCell(
                        width = ColumnWidth,
                        text = name,
                        editing = editingEquip == i,
                        onLongPress = {
                            view.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS)
                            editingEquip = i
                        },
                        onDone = {
                            editingEquip = null
                            focusManager.clearFocus()
                        },
                        onTextChange = { equipments[i] = it }
                    )
                }

                AddHeaderCell("李⑤웾 異붽?", ColumnWidth) {
                    equipments.add("?좉퇋李⑤웾")
                    matrix.forEach { it.add(0) }
                    editingEquip = equipments.lastIndex
                }
            }

            /* ===== DATA ROWS ===== */
            departments.forEachIndexed { r, dept ->
                Row {
                    EditableHeaderCell(
                        width = RowHeaderWidth,
                        text = dept,
                        editing = editingDept == r,
                        onLongPress = {
                            view.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS)
                            editingDept = r
                        },
                        onDone = {
                            editingDept = null
                            focusManager.clearFocus()
                        },
                        onTextChange = { departments[r] = it }
                    )

                    matrix[r].forEachIndexed { c, value ->
                        StatusCell(value) {
                            matrix[r][c] = (value + 1) % 3
                        }
                    }
                }
            }

            /* ===== ADD ROW ===== */
            AddHeaderCell("?쇳꽣 異붽?", RowHeaderWidth) {
                departments.add("?좉퇋?쇳꽣")
                matrix.add(
                    mutableStateListOf<Int>().apply {
                        repeat(equipments.size) { add(0) }
                    }
                )
                editingDept = departments.lastIndex
            }
        }
    }
}

@OptIn(ExperimentalFoundationApi::class)
@Composable
fun EditableHeaderCell(
    width: Dp,
    text: String,
    editing: Boolean,
    onLongPress: () -> Unit,
    onDone: () -> Unit,
    onTextChange: (String) -> Unit
) {
    val focusRequester = remember { FocusRequester() }

    Box(
        modifier = Modifier
            .width(width)
            .height(HeaderHeight)
            .padding(CellPadding)
            .border(1.dp, BorderGray)
            .combinedClickable(
                interactionSource = remember { MutableInteractionSource() },
                indication = null,
                onClick = {},
                onLongClick = onLongPress
            ),
        contentAlignment = Alignment.Center
    ) {
        if (editing) {
            LaunchedEffect(Unit) { focusRequester.requestFocus() }

            BasicTextField(
                value = text,
                onValueChange = onTextChange,
                singleLine = true,
                modifier = Modifier
                    .fillMaxSize()
                    .focusRequester(focusRequester),
                keyboardOptions = KeyboardOptions(imeAction = ImeAction.Done),
                keyboardActions = KeyboardActions(onDone = { onDone() }),
                textStyle = TextStyle(
                    fontSize = 15.sp,
                    lineHeight = 15.sp,
                    color = TextPrimary,
                    textAlign = TextAlign.Center
                )
            )
        } else {
            Text(text, color = TextPrimary, fontSize = 15.sp)
        }
    }
}

@Composable
fun AddHeaderCell(text: String, width: Dp, onClick: () -> Unit) {
    Box(
        modifier = Modifier
            .width(width)
            .height(HeaderHeight)
            .padding(CellPadding)
            .border(1.dp, BorderGray)
            .clickable { onClick() },
        contentAlignment = Alignment.Center
    ) {
        Text(text, color = OrangePrimary, fontSize = 15.sp)
    }
}

@Composable
fun StatusCell(value: Int, onClick: () -> Unit) {
    val bg = when (value) {
        1 -> OrangePrimary
        2 -> NeonGreen
        else -> BackgroundBlack
    }

    val label = when (value) {
        1 -> "異쒕룞"
        2 -> "2"
        else -> ""
    }

    Box(
        modifier = Modifier
            .width(ColumnWidth)
            .height(CellHeight)
            .padding(CellPadding)
            .border(1.dp, BorderGray)
            .background(bg)
            .clickable { onClick() },
        contentAlignment = Alignment.Center
    ) {
        Text(label, color = Color.Black, fontSize = 16.sp)
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\field\AddressSearchScreen.kt =====
package com.example.marthianclean.ui.field

import androidx.compose.foundation.background
import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.LazyColumn
import androidx.compose.foundation.lazy.items
import androidx.compose.material3.Button
import androidx.compose.material3.ButtonDefaults
import androidx.compose.material3.HorizontalDivider
import androidx.compose.material3.OutlinedTextField
import androidx.compose.material3.OutlinedTextFieldDefaults
import androidx.compose.material3.Text
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.dp
import androidx.lifecycle.viewmodel.compose.viewModel
import com.example.marthianclean.model.Incident
import com.example.marthianclean.viewmodel.IncidentViewModel
import com.example.marthianclean.viewmodel.PlaceCandidate

private val BgBlack = Color(0xFF0E0E0E)
private val CardDark = Color(0xFF151515)
private val BorderGray = Color(0xFF2E2E2E)
private val TextPrimary = Color(0xFFF0F0F0)
private val TextSecondary = Color(0xFFBDBDBD)
private val AccentOrange = Color(0xFFFF9800)

@Composable
fun AddressSearchScreen(
    onDone: (Incident) -> Unit,
    onBack: () -> Unit
) {
    val vm: IncidentViewModel = viewModel()

    var query by remember { mutableStateOf("") }

    val candidates by vm.candidates.collectAsState()
    val loading by vm.searchLoading.collectAsState()
    val error by vm.searchError.collectAsState()

    Column(
        modifier = Modifier
            .fillMaxSize()
            .background(BgBlack)
            .padding(16.dp)
    ) {

        Row(
            modifier = Modifier.fillMaxWidth(),
            horizontalArrangement = Arrangement.SpaceBetween,
            verticalAlignment = Alignment.CenterVertically
        ) {
            Text("二쇱냼/?μ냼 寃??, color = TextPrimary, modifier = Modifier.weight(1f))

            Button(
                onClick = onBack,
                colors = ButtonDefaults.buttonColors(
                    containerColor = CardDark,
                    contentColor = TextPrimary
                )
            ) { Text("?ㅻ줈") }
        }

        Spacer(Modifier.height(12.dp))

        OutlinedTextField(
            value = query,
            onValueChange = { query = it },
            modifier = Modifier.fillMaxWidth(),
            singleLine = true,
            label = { Text("?? ?λ궓濡?399 / ?붿꽦?뚮갑??) },
            colors = OutlinedTextFieldDefaults.colors(
                focusedContainerColor = CardDark,
                unfocusedContainerColor = CardDark,
                disabledContainerColor = CardDark,

                focusedTextColor = TextPrimary,
                unfocusedTextColor = TextPrimary,

                focusedBorderColor = AccentOrange,
                unfocusedBorderColor = BorderGray,

                focusedLabelColor = AccentOrange,
                unfocusedLabelColor = TextSecondary,

                cursorColor = AccentOrange
            )
        )

        Spacer(Modifier.height(10.dp))

        Row(
            modifier = Modifier.fillMaxWidth(),
            horizontalArrangement = Arrangement.spacedBy(10.dp)
        ) {
            Button(
                modifier = Modifier.weight(1f),
                onClick = { vm.searchPlaceCandidates(query) },
                colors = ButtonDefaults.buttonColors(
                    containerColor = AccentOrange,
                    contentColor = Color.Black
                )
            ) {
                Text(if (loading) "寃?됱쨷?? else "寃??)
            }

            Button(
                modifier = Modifier.weight(1f),
                onClick = {
                    vm.geocodeAndApply(
                        query = query,
                        onSuccess = {
                            val inc = vm.incident.value
                            if (inc != null) onDone(inc)
                        },
                        onFail = { /* ?꾩슂?섎㈃ ?먮윭 泥섎━ ?뺤옣 */ }
                    )
                },
                colors = ButtonDefaults.buttonColors(
                    containerColor = CardDark,
                    contentColor = TextPrimary
                )
            ) {
                Text("二쇱냼濡?諛붾줈")
            }
        }

        if (error != null) {
            Spacer(Modifier.height(10.dp))
            Text("?좑툘 $error", color = AccentOrange)
        }

        Spacer(Modifier.height(12.dp))
        HorizontalDivider(color = BorderGray)
        Spacer(Modifier.height(8.dp))

        // ??臾멸뎄留?10媛쒕줈 蹂寃?
        Text("寃??寃곌낵 (理쒕? 10媛?", color = TextSecondary)
        Spacer(Modifier.height(8.dp))

        LazyColumn(
            modifier = Modifier.fillMaxSize()
        ) {
            items(candidates) { item ->
                CandidateRowDark(
                    item = item,
                    onClick = {
                        vm.geocodeAndApply(
                            query = item.address,
                            onSuccess = {
                                val inc = vm.incident.value
                                if (inc != null) onDone(inc)
                            },
                            onFail = { /* ?꾩슂???뺤옣 */ }
                        )
                    }
                )
                HorizontalDivider(color = BorderGray)
            }
        }
    }
}

@Composable
private fun CandidateRowDark(
    item: PlaceCandidate,
    onClick: () -> Unit
) {
    Column(
        modifier = Modifier
            .fillMaxWidth()
            .clickable { onClick() }
            .background(BgBlack)
            .padding(vertical = 12.dp)
    ) {
        Text(item.title, color = TextPrimary)
        Spacer(Modifier.height(4.dp))
        Text(item.address, color = TextSecondary)
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\field\FieldSelectScreen.kt =====
package com.example.marthianclean.ui.field

import androidx.compose.foundation.background
import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.*
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.automirrored.filled.ArrowBack
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun FieldSelectScreen(
    onNewIncident: () -> Unit,
    onPastIncidents: () -> Unit,
    onBack: () -> Unit
) {
    Scaffold(
        containerColor = Color.Black,
        topBar = {
            TopAppBar(
                title = { },
                colors = TopAppBarDefaults.topAppBarColors(
                    containerColor = Color.Black
                ),
                navigationIcon = {
                    IconButton(
                        onClick = onBack,
                        modifier = Modifier.size(56.dp)
                    ) {
                        Icon(
                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,
                            contentDescription = "Back",
                            tint = Color.White,
                            modifier = Modifier.size(34.dp)
                        )
                    }
                }
            )
        }
    ) { padding ->

        Box(
            modifier = Modifier
                .fillMaxSize()
                .background(Color.Black)
                .padding(padding)
        ) {
            Column(
                modifier = Modifier
                    .align(Alignment.Center)
                    .padding(horizontal = 24.dp),
                horizontalAlignment = Alignment.CenterHorizontally,
                verticalArrangement = Arrangement.spacedBy(28.dp)
            ) {

                BigCenterActionCard(
                    text = "?덈줈???꾩옣",
                    textColor = Color(0xFFFF8C00), // 二쇳솴
                    onClick = onNewIncident
                )

                BigCenterActionCard(
                    text = "吏???꾩옣",
                    textColor = Color.White,
                    onClick = onPastIncidents
                )
            }
        }
    }
}

@Composable
private fun BigCenterActionCard(
    text: String,
    textColor: Color,
    onClick: () -> Unit
) {
    Surface(
        color = Color(0xFF1C1C1C), // ?대몢??移대뱶 諛곌꼍
        tonalElevation = 0.dp,
        shape = MaterialTheme.shapes.large,
        modifier = Modifier
            .fillMaxWidth()
            .height(96.dp)
            .clickable(onClick = onClick)
    ) {
        Box(
            modifier = Modifier.fillMaxSize(),
            contentAlignment = Alignment.Center
        ) {
            Text(
                text = text,
                color = textColor,
                fontSize = 28.sp,
                fontWeight = FontWeight.Bold
            )
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\field\IncidentEditHubScreen.kt =====
package com.example.marthianclean.ui.field

import androidx.compose.foundation.background
import androidx.compose.foundation.layout.*
import androidx.compose.material3.Button
import androidx.compose.material3.ButtonDefaults
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp

private val BgBlack = Color(0xFF0E0E0E)
private val CardDark = Color(0xFF151515)
private val BorderGray = Color(0xFF2E2E2E)
private val TextPrimary = Color(0xFFF0F0F0)
private val AccentOrange = Color(0xFFFF9800)

@Composable
fun IncidentEditHubScreen(
    onEditMatrix: () -> Unit,
    onEditInfo: () -> Unit,
    onBack: () -> Unit
) {
    Box(
        modifier = Modifier
            .fillMaxSize()
            .background(BgBlack)
            .padding(16.dp)
    ) {
        Column(
            modifier = Modifier
                .align(Alignment.Center)
                .fillMaxWidth(),
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Text(
                text = "?꾩옣 ?몄쭛",
                color = TextPrimary,
                fontSize = 22.sp,
                fontWeight = FontWeight.Bold
            )

            Spacer(Modifier.height(18.dp))

            Button(
                onClick = onEditMatrix,
                modifier = Modifier
                    .fillMaxWidth()
                    .heightIn(min = 56.dp),
                colors = ButtonDefaults.buttonColors(
                    containerColor = AccentOrange,
                    contentColor = Color.Black
                )
            ) {
                Text("異쒕룞? ?몄꽦(留ㅽ듃由?뒪)", fontSize = 18.sp, fontWeight = FontWeight.SemiBold)
            }

            Spacer(Modifier.height(10.dp))

            Button(
                onClick = onEditInfo,
                modifier = Modifier
                    .fillMaxWidth()
                    .heightIn(min = 56.dp),
                colors = ButtonDefaults.buttonColors(
                    containerColor = CardDark,
                    contentColor = TextPrimary
                )
            ) {
                Text("?꾩옣 ?뺣낫 ?섏젙", fontSize = 18.sp, fontWeight = FontWeight.SemiBold)
            }

            Spacer(Modifier.height(18.dp))

            // ???リ린 踰꾪듉 ?ш쾶
            Button(
                onClick = onBack,
                modifier = Modifier
                    .fillMaxWidth()
                    .heightIn(min = 64.dp),
                contentPadding = PaddingValues(vertical = 16.dp),
                colors = ButtonDefaults.buttonColors(
                    containerColor = BorderGray,
                    contentColor = TextPrimary
                )
            ) {
                Text("?リ린", fontSize = 20.sp, fontWeight = FontWeight.Bold)
            }
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\field\MapPreviewScreen.kt =====
package com.example.marthianclean.ui.field

import android.location.Geocoder
import androidx.compose.foundation.background
import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.*
import androidx.compose.material3.CircularProgressIndicator
import androidx.compose.material3.Text
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.platform.LocalContext
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
import com.google.android.gms.maps.model.LatLng
import com.google.maps.android.compose.CameraPositionState
import com.google.maps.android.compose.GoogleMap
import com.google.maps.android.compose.Marker
import com.google.maps.android.compose.MarkerState
import com.google.maps.android.compose.rememberCameraPositionState
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.withContext
import java.util.Locale

@Composable
fun MapPreviewScreen(
    addressText: String,
    onConfirm: () -> Unit
) {
    val context = LocalContext.current

    // ?뵺 湲곕낯 ?꾩튂: ?붿꽦?뚮갑???λ궓?? fallback
    val defaultLatLng = remember { LatLng(37.13106, 126.92053) } // :contentReference[oaicite:3]{index=3}

    var targetLatLng by remember { mutableStateOf<LatLng?>(null) }
    var isLoading by remember { mutableStateOf(true) }
    var resolvedLabel by remember { mutableStateOf("") }

    val cameraPositionState: CameraPositionState = rememberCameraPositionState()

    // ???ㅽ뀦2: 二쇱냼 ??醫뚰몴 (理쒖냼 援ы쁽: Android Geocoder)
    LaunchedEffect(addressText) {
        isLoading = true
        resolvedLabel = ""

        val result = withContext(Dispatchers.IO) {
            runCatching {
                val geocoder = Geocoder(context, Locale.KOREA)
                val list = geocoder.getFromLocationName(addressText, 1)
                val first = list?.firstOrNull()
                if (first != null) LatLng(first.latitude, first.longitude) else null
            }.getOrNull()
        }

        targetLatLng = result ?: defaultLatLng

        // 移대찓???대룞
        cameraPositionState.position = com.google.android.gms.maps.model.CameraPosition.fromLatLngZoom(
            targetLatLng!!,
            16f
        )

        resolvedLabel = if (result != null) "寃???꾩튂" else "湲곕낯 ?꾩튂(?붿꽦?뚮갑??"
        isLoading = false
    }

    Box(
        modifier = Modifier
            .fillMaxSize()
            .background(Color.Black)
    ) {
        // ???ㅽ뀦1: ?ㅼ젣 吏???뚮뜑留?
        GoogleMap(
            modifier = Modifier.fillMaxSize(),
            cameraPositionState = cameraPositionState
        ) {
            val pin = targetLatLng ?: defaultLatLng
            Marker(
                state = MarkerState(position = pin),
                title = resolvedLabel.ifBlank { "?꾩옣 ?꾩튂" },
                snippet = addressText
            )
        }

        // ?곷떒 ?띿뒪???붾쾭洹??뺤씤??
        Column(
            modifier = Modifier
                .align(Alignment.TopCenter)
                .padding(top = 18.dp)
                .background(Color(0x88000000))
                .padding(horizontal = 12.dp, vertical = 10.dp)
        ) {
            Text(
                text = "吏??誘몃━蹂닿린",
                color = Color.White,
                fontSize = 16.sp
            )
            Text(
                text = addressText,
                color = Color.White,
                fontSize = 13.sp
            )
            if (resolvedLabel.isNotBlank()) {
                Text(
                    text = resolvedLabel,
                    color = Color(0xFFFF9800),
                    fontSize = 12.sp
                )
            }
        }

        // 濡쒕뵫 ?ㅻ쾭?덉씠 (?ㅽ뀦3?먯꽌 ???덉걯寃??ㅻ벉???덉젙)
        if (isLoading) {
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .background(Color(0x55000000)),
                contentAlignment = Alignment.Center
            ) {
                Column(horizontalAlignment = Alignment.CenterHorizontally) {
                    CircularProgressIndicator()
                    Spacer(Modifier.height(10.dp))
                    Text(
                        text = "吏??醫뚰몴 遺덈윭?ㅻ뒗 以묅?,
                        color = Color.White,
                        fontSize = 14.sp
                    )
                }
            }
        }

        // ?뵻 ?섎떒 ?뺤젙 踰꾪듉 (湲곗〈 洹몃?濡?
        Box(
            modifier = Modifier
                .align(Alignment.BottomCenter)
                .padding(24.dp)
                .background(Color(0xFFFF9800))
                .clickable { onConfirm() }
                .padding(horizontal = 32.dp, vertical = 16.dp),
            contentAlignment = Alignment.Center
        ) {
            Text(
                text = "?꾩옣 ?뺤젙",
                color = Color.Black,
                fontSize = 18.sp
            )
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\situation\EditModeSelector.kt =====
package com.example.marthianclean.ui.situation

import androidx.compose.foundation.background
import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.*
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp

@Composable
fun EditModeSelector(
    onDispatchSelected: () -> Unit,
    onDisasterSelected: () -> Unit
) {
    Column(
        modifier = Modifier
            .fillMaxHeight()
            .width(320.dp)
            .background(Color.Black)
            .padding(24.dp),
        verticalArrangement = Arrangement.Center
    ) {

        Text(
            text = "Edit Mode",
            color = Color.White,
            fontSize = 18.sp,
            fontWeight = FontWeight.Bold,
            modifier = Modifier.padding(bottom = 32.dp)
        )

        SelectorButton(
            title = "Dispatch Unit Configuration",
            subtitle = "Configure responding units",
            onClick = onDispatchSelected
        )

        Spacer(modifier = Modifier.height(24.dp))

        SelectorButton(
            title = "Disaster Information",
            subtitle = "Edit incident details",
            onClick = onDisasterSelected
        )
    }
}

@Composable
private fun SelectorButton(
    title: String,
    subtitle: String,
    onClick: () -> Unit
) {
    Column(
        modifier = Modifier
            .fillMaxWidth()
            .background(Color(0xFF1A1A1A))
            .clickable { onClick() }
            .padding(20.dp)
    ) {
        Text(
            text = title,
            color = Color(0xFFFF9800),
            fontSize = 16.sp,
            fontWeight = FontWeight.Bold
        )

        Spacer(modifier = Modifier.height(6.dp))

        Text(
            text = subtitle,
            color = Color.Gray,
            fontSize = 13.sp
        )
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\situation\SatelliteLoadingScreen.kt =====
package com.example.marthianclean.ui.situation

import androidx.compose.foundation.background
import androidx.compose.foundation.layout.*
import androidx.compose.material3.CircularProgressIndicator
import androidx.compose.material3.Text
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.sp
import kotlinx.coroutines.delay

private val BgBlack = Color(0xFF0E0E0E)
private val TextPrimary = Color(0xFFF0F0F0)
private val AccentOrange = Color(0xFFFF9800)

@Composable
fun SatelliteLoadingScreen(
    onFinished: () -> Unit
) {
    // ??理쒖냼 1.2珥덈뒗 蹂댁뿬二쇨린
    LaunchedEffect(Unit) {
        delay(1200)
        onFinished()
    }

    Box(
        modifier = Modifier
            .fillMaxSize()
            .background(BgBlack),
        contentAlignment = Alignment.Center
    ) {
        Column(
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            CircularProgressIndicator(
                color = AccentOrange,
                strokeWidth = 4.dp
            )
            Spacer(modifier = Modifier.height(16.dp))
            Text(
                text = "Loading satellite map??,
                color = TextPrimary,
                fontSize = 16.sp,
                fontWeight = FontWeight.SemiBold
            )
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\situation\SituationBoardScreen.kt =====
@file:OptIn(com.naver.maps.map.compose.ExperimentalNaverMapApi::class)

package com.example.marthianclean.ui.situation

import androidx.compose.foundation.background
import androidx.compose.foundation.gestures.detectHorizontalDragGestures
import androidx.compose.foundation.layout.*
import androidx.compose.material3.Button
import androidx.compose.material3.ButtonDefaults
import androidx.compose.material3.Text
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.geometry.Offset
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.input.pointer.pointerInput
import androidx.compose.ui.platform.LocalDensity
import androidx.compose.ui.unit.dp
import com.example.marthianclean.viewmodel.IncidentViewModel
import com.naver.maps.geometry.LatLng
import com.naver.maps.map.CameraUpdate
import com.naver.maps.map.compose.*
import kotlin.math.abs

private val MarsOrange = Color(0xFFFF8C00)

@Composable
fun SituationBoardScreen(
    incidentViewModel: IncidentViewModel,
    onEdit: () -> Unit,   // ??醫뚯뒳?쇱씠??醫뚢넂?? ???덈툕濡??대룞
    onExit: () -> Unit
) {
    val incident by incidentViewModel.incident.collectAsState()

    val cameraPositionState = rememberCameraPositionState()
    val markerState = remember { MarkerState() }

    var mapLoaded by remember { mutableStateOf(false) }

    // ???꾩꽦/?쇰컲 ?좉? (湲곕낯: ?꾩꽦)
    var isSatellite by remember { mutableStateOf(true) }

    // ??醫뚰몴
    val lat = incident?.latitude
    val lng = incident?.longitude

    LaunchedEffect(lat, lng) {
        if (lat != null && lng != null) {
            val pos = LatLng(lat, lng)
            markerState.position = pos

            cameraPositionState.animate(
                update = CameraUpdate.scrollTo(pos),
                durationMs = 700
            )
            cameraPositionState.animate(
                update = CameraUpdate.zoomTo(16.0),
                durationMs = 300
            )
        }
    }

    // ===== 醫뚯뒳?쇱씠??醫뚢넂?? ?쒖뿣吏 ?꾩슜 ?덉씠?닳?=====
    val density = LocalDensity.current
    val triggerPx = with(density) { 130.dp.toPx() } // ???ㅻ컻 諛⑹???異⑸텇??嫄곕━
    val edgeWidth = 20.dp                          // ???ш린留??쒖뒪泥??꾩슜 ?곸뿭(吏???대깽?몃낫???곗꽑)

    var dragAccumX by remember { mutableStateOf(0f) }
    var dragAccumY by remember { mutableStateOf(0f) }
    var lastPos by remember { mutableStateOf(Offset.Zero) }

    Box(
        modifier = Modifier
            .fillMaxSize()
            .background(Color.Black)
    ) {
        // =============================
        // 1) 吏??
        // =============================
        NaverMap(
            modifier = Modifier.fillMaxSize(),
            cameraPositionState = cameraPositionState,
            properties = MapProperties(
                mapType = if (isSatellite) MapType.Satellite else MapType.Basic
            ),
            uiSettings = MapUiSettings(
                isZoomControlEnabled = true,
                isCompassEnabled = false,
                isLocationButtonEnabled = false,

                // ???뺣떂 ?붿껌: 湲곗슱湲??뚯쟾 遺덊븘????OFF
                isRotateGesturesEnabled = false,
                isTiltGesturesEnabled = false
            ),
            onMapLoaded = { mapLoaded = true }
        ) {
            if (lat != null && lng != null) {
                Marker(
                    state = markerState,
                    captionText = "?꾩옣"
                )
            }
        }

        // =============================
        // 2) 醫뚯뒳?쇱씠???꾩슜 ?쒗닾紐??ｌ? ?덉씠?닳?
        //    (吏?꾨낫???꾩뿉 ?щ씪媛???대깽?몃? 癒쇱? 諛쏆쓬)
        // =============================
        Box(
            modifier = Modifier
                .fillMaxHeight()
                .width(edgeWidth)
                .align(Alignment.CenterStart)
                .pointerInput(Unit) {
                    detectHorizontalDragGestures(
                        onDragStart = { start ->
                            dragAccumX = 0f
                            dragAccumY = 0f
                            lastPos = start
                        },
                        onHorizontalDrag = { change, dragAmount ->
                            // ?섑룊 ?꾩쟻
                            dragAccumX += dragAmount

                            // ?섏쭅 ?꾩쟻(?媛곸꽑/?몃줈 ?쒕옒洹??ㅻ컻 諛⑹?)
                            val dy = abs(change.position.y - lastPos.y)
                            dragAccumY += dy
                            lastPos = change.position

                            // ???섑룊???섏쭅蹂대떎 ?뺤떎?????뚮쭔
                            val isMostlyHorizontal = dragAccumX > dragAccumY * 2f

                            if (isMostlyHorizontal && dragAccumX >= triggerPx) {
                                // ??踰?諛쒕룞?섎㈃ ?щ컻??諛⑹? ?꾪빐 珥덇린??
                                dragAccumX = 0f
                                dragAccumY = 0f
                                onEdit()
                            }
                        },
                        onDragEnd = {
                            dragAccumX = 0f
                            dragAccumY = 0f
                        },
                        onDragCancel = {
                            dragAccumX = 0f
                            dragAccumY = 0f
                        }
                    )
                }
        )

        // =============================
        // 3) 濡쒕뵫 ?ㅻ쾭?덉씠
        // =============================
        if (!mapLoaded) {
            Box(
                modifier = Modifier
                    .fillMaxSize()
                    .background(Color.Black.copy(alpha = 0.55f)),
                contentAlignment = Alignment.Center
            ) {
                Text(text = "吏??濡쒕뵫 以묅?, color = Color.White)
            }
        }

        // =============================
        // 4) ?곷떒 ?곗륫: ?꾩꽦 ?좉? + EXIT
        // =============================
        Row(
            modifier = Modifier
                .fillMaxWidth()
                .padding(16.dp),
            horizontalArrangement = Arrangement.End,
            verticalAlignment = Alignment.CenterVertically
        ) {
            Button(
                onClick = { isSatellite = !isSatellite },
                colors = ButtonDefaults.buttonColors(
                    containerColor = Color(0xFF1C1C1C),
                    contentColor = Color.White
                )
            ) {
                Text(if (isSatellite) "SAT" else "BASIC")
            }

            Spacer(modifier = Modifier.width(10.dp))

            Button(
                onClick = {
                    incidentViewModel.clearIncident()
                    onExit()
                },
                colors = ButtonDefaults.buttonColors(
                    containerColor = Color(0xFF1C1C1C),
                    contentColor = MarsOrange
                )
            ) {
                Text("EXIT")
            }
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\theme\Color.kt =====
package com.example.marthianclean.ui.theme

import androidx.compose.ui.graphics.Color

val Purple80 = Color(0xFFD0BCFF)
val PurpleGrey80 = Color(0xFFCCC2DC)
val Pink80 = Color(0xFFEFB8C8)

val Purple40 = Color(0xFF6650a4)
val PurpleGrey40 = Color(0xFF625b71)
val Pink40 = Color(0xFF7D5260)


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\theme\Theme.kt =====
package com.example.marthianclean.ui.theme

import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.darkColorScheme
import androidx.compose.runtime.Composable
import androidx.compose.ui.graphics.Color

private val DarkColorScheme = darkColorScheme(
    primary = Color(0xFF00C853),
    onPrimary = Color.Black,
    background = Color.Black,
    onBackground = Color.White,
    surface = Color.Black,
    onSurface = Color.White
)

@Composable
fun MarthianTheme(
    content: @Composable () -> Unit
) {
    MaterialTheme(
        colorScheme = DarkColorScheme,
        typography = Typography,
        content = content
    )
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\ui\theme\Type.kt =====
package com.example.marthianclean.ui.theme

import androidx.compose.material3.Typography
import androidx.compose.ui.text.TextStyle
import androidx.compose.ui.text.font.FontFamily
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.sp

// Set of Material typography styles to start with
val Typography = Typography(
    bodyLarge = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 16.sp,
        lineHeight = 24.sp,
        letterSpacing = 0.5.sp
    )
    /* Other default text styles to override
    titleLarge = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 22.sp,
        lineHeight = 28.sp,
        letterSpacing = 0.sp
    ),
    labelSmall = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Medium,
        fontSize = 11.sp,
        lineHeight = 16.sp,
        letterSpacing = 0.5.sp
    )
    */
)


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\java\com\example\marthianclean\viewmodel\IncidentViewModel.kt =====
package com.example.marthianclean.viewmodel

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import com.example.marthianclean.BuildConfig
import com.example.marthianclean.model.Incident
import com.example.marthianclean.network.GeocodingRepository
import com.example.marthianclean.network.RetrofitClient
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.StateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.launch

data class PlaceCandidate(
    val title: String,
    val address: String
)

class IncidentViewModel : ViewModel() {

    private val _incident = MutableStateFlow<Incident?>(null)
    val incident: StateFlow<Incident?> = _incident.asStateFlow()

    private val geocodingRepo = GeocodingRepository(RetrofitClient.geocodingService)

    // ???μ냼 ?꾨낫(理쒕? 10媛?
    private val _candidates = MutableStateFlow<List<PlaceCandidate>>(emptyList())
    val candidates: StateFlow<List<PlaceCandidate>> = _candidates.asStateFlow()

    private val _searchLoading = MutableStateFlow(false)
    val searchLoading: StateFlow<Boolean> = _searchLoading.asStateFlow()

    private val _searchError = MutableStateFlow<String?>(null)
    val searchError: StateFlow<String?> = _searchError.asStateFlow()

    fun setIncident(value: Incident) {
        _incident.value = value
    }

    fun clearIncident() {
        _incident.value = null
    }

    fun clearCandidates() {
        _candidates.value = emptyList()
        _searchError.value = null
    }

    // ??1) "?붿꽦?뚮갑?? 媛숈? ?μ냼紐?寃??-> ?꾨낫 理쒕? 10媛?
    fun searchPlaceCandidates(
        query: String,
        onDone: () -> Unit = {}
    ) {
        val trimmed = query.trim()
        if (trimmed.isEmpty()) {
            _searchError.value = "寃?됱뼱媛 鍮꾩뼱 ?덉뒿?덈떎."
            _candidates.value = emptyList()
            return
        }

        viewModelScope.launch {
            try {
                _searchLoading.value = true
                _searchError.value = null
                _candidates.value = emptyList()

                val res = RetrofitClient.localSearchService.searchLocal(
                    clientId = BuildConfig.NAVER_SEARCH_CLIENT_ID,
                    clientSecret = BuildConfig.NAVER_SEARCH_CLIENT_SECRET,
                    query = trimmed,
                    display = 10 // ?뵦 5 -> 10
                )

                val out = res.items.mapNotNull { item ->
                    val addr = item.roadAddress?.takeIf { it.isNotBlank() }
                        ?: item.address?.takeIf { it.isNotBlank() }
                        ?: return@mapNotNull null

                    val cleanTitle = (item.title ?: trimmed)
                        .replace("<b>", "")
                        .replace("</b>", "")

                    PlaceCandidate(
                        title = cleanTitle,
                        address = addr
                    )
                }

                if (out.isEmpty()) {
                    _searchError.value = "寃??寃곌낵媛 ?놁뒿?덈떎. (二쇱냼濡쒕룄 ??踰??쒕룄?대낫?몄슂)"
                }

                _candidates.value = out
                onDone()
            } catch (e: Exception) {
                _searchError.value = "?μ냼 寃???ㅽ뙣: ${e.message ?: "unknown"}"
                _candidates.value = emptyList()
            } finally {
                _searchLoading.value = false
            }
        }
    }

    // ??2) ?좏깮???꾨낫??"二쇱냼"濡?吏?ㅼ퐫?⑺빐??incident??諛섏쁺
    fun geocodeAndApply(
        query: String,
        onSuccess: () -> Unit,
        onFail: (String) -> Unit
    ) {
        val trimmed = query.trim()
        if (trimmed.isEmpty()) {
            onFail("寃?됱뼱媛 鍮꾩뼱 ?덉뒿?덈떎.")
            return
        }

        viewModelScope.launch {
            when (val out = geocodingRepo.geocode(trimmed)) {
                is GeocodingRepository.Outcome.Fail -> onFail(out.reason)
                is GeocodingRepository.Outcome.Ok -> {
                    val data = out.data

                    val current = _incident.value
                    val updated = current?.copy(
                        address = data.resolvedAddress,
                        latitude = data.latitude,
                        longitude = data.longitude
                    ) ?: Incident(
                        address = data.resolvedAddress,
                        latitude = data.latitude,
                        longitude = data.longitude
                    )

                    _incident.value = updated
                    onSuccess()
                }
            }
        }
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\drawable\ic_launcher_background.xml =====
<?xml version="1.0" encoding="utf-8"?>
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path
        android:fillColor="#3DDC84"
        android:pathData="M0,0h108v108h-108z" />
    <path
        android:fillColor="#00000000"
        android:pathData="M9,0L9,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,0L19,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,0L29,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,0L39,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,0L49,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,0L59,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,0L69,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,0L79,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M89,0L89,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M99,0L99,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,9L108,9"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,19L108,19"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,29L108,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,39L108,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,49L108,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,59L108,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,69L108,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,79L108,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,89L108,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,99L108,99"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,29L89,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,39L89,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,49L89,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,59L89,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,69L89,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,79L89,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,19L29,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,19L39,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,19L49,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,19L59,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,19L69,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,19L79,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
</vector>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\drawable\ic_launcher_foreground.xml =====
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
        <aapt:attr name="android:fillColor">
            <gradient
                android:endX="85.84757"
                android:endY="92.4963"
                android:startX="42.9492"
                android:startY="49.59793"
                android:type="linear">
                <item
                    android:color="#44000000"
                    android:offset="0.0" />
                <item
                    android:color="#00000000"
                    android:offset="1.0" />
            </gradient>
        </aapt:attr>
    </path>
    <path
        android:fillColor="#FFFFFF"
        android:fillType="nonZero"
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:strokeWidth="1"
        android:strokeColor="#00000000" />
</vector>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\drawable\satellite_loading.xml =====
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">

    <item>
        <shape android:shape="rectangle">
            <solid android:color="#000000"/>
        </shape>
    </item>

    <item android:gravity="center">
        <shape android:shape="oval">
            <size
                android:width="48dp"
                android:height="48dp" />
            <solid android:color="#00C853"/>
        </shape>
    </item>

</layer-list>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\mipmap-anydpi\ic_launcher.xml =====
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\mipmap-anydpi\ic_launcher_round.xml =====
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\values\colors.xml =====
<resources>
    <!-- Marthian Dark Palette -->
    <color name="marthian_primary">#FF9800</color>
    <color name="marthian_on_primary">#000000</color>

    <color name="marthian_secondary">#FFFFFF</color>
    <color name="marthian_on_secondary">#000000</color>

    <color name="marthian_black">#000000</color>
</resources>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\values\strings.xml =====
<resources>

    <string name="app_name">Marthian</string>

    <string name="google_maps_key">AIzaSyB6m8pdvOrVjugbKryp6_-Y3hYzewar3co</string>

</resources>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\values\styles.xml =====
<resources>

    <!-- No ActionBar, No Title -->
    <style name="Theme.Marthian.NoActionBar"
        parent="Theme.MaterialComponents.DayNight.NoActionBar">
        <!-- ?꾩쟾 臾댁긽??UI -->
    </style>

</resources>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\values\themes.xml =====
<resources xmlns:tools="http://schemas.android.com/tools">

    <!-- Marthian : Always Dark Theme -->
    <style name="Theme.Marthian" parent="Theme.Material3.Dark.NoActionBar">

        <!-- Color scheme -->
        <item name="colorPrimary">@color/marthian_primary</item>
        <item name="colorOnPrimary">@color/marthian_on_primary</item>
        <item name="colorSecondary">@color/marthian_secondary</item>
        <item name="colorOnSecondary">@color/marthian_on_secondary</item>

        <!-- System bars -->
        <item name="android:statusBarColor">@color/marthian_black</item>
        <item name="android:navigationBarColor">@color/marthian_black</item>

        <!-- ?꾩씠肄??? ?ㅽ겕 諛곌꼍 ??false -->
        <item name="android:windowLightStatusBar" tools:targetApi="m">false</item>
        <item name="android:windowLightNavigationBar" tools:targetApi="o">false</item>
    </style>

</resources>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\xml\backup_rules.xml =====
<?xml version="1.0" encoding="utf-8"?><!--
   Sample backup rules file; uncomment and customize as necessary.
   See https://developer.android.com/guide/topics/data/autobackup
   for details.
   Note: This file is ignored for devices older than API 31
   See https://developer.android.com/about/versions/12/backup-restore
-->
<full-backup-content>
    <!--
   <include domain="sharedpref" path="."/>
   <exclude domain="sharedpref" path="device.xml"/>
-->
</full-backup-content>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\main\res\xml\data_extraction_rules.xml =====
<?xml version="1.0" encoding="utf-8"?><!--
   Sample data extraction rules file; uncomment and customize as necessary.
   See https://developer.android.com/about/versions/12/backup-restore#xml-changes
   for details.
-->
<data-extraction-rules>
    <cloud-backup>
        <!-- TODO: Use <include> and <exclude> to control what is backed up.
        <include .../>
        <exclude .../>
        -->
    </cloud-backup>
    <!--
    <device-transfer>
        <include .../>
        <exclude .../>
    </device-transfer>
    -->
</data-extraction-rules>


===== C:\Users\admir\AndroidStudioProjects\Marthian\app\src\test\java\com\example\marthianclean\ExampleUnitTest.kt =====
package com.example.marthianclean

import org.junit.Test

import org.junit.Assert.*

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * See [testing documentation](http://d.android.com/tools/testing).
 */
class ExampleUnitTest {
    @Test
    fun addition_isCorrect() {
        assertEquals(4, 2 + 2)
    }
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\build.gradle.kts =====
// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    alias(libs.plugins.android.application) apply false
    alias(libs.plugins.kotlin.compose) apply false
}


===== C:\Users\admir\AndroidStudioProjects\Marthian\gradle.properties =====
# Project-wide Gradle settings.
# IDE (e.g. Android Studio) users:
# Gradle settings configured through the IDE *will override*
# any settings specified in this file.
# For more details on how to configure your build environment visit
# http://www.gradle.org/docs/current/userguide/build_environment.html
# Specifies the JVM arguments used for the daemon process.
# The setting is particularly useful for tweaking memory settings.
org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8
# When configured, Gradle will run in incubating parallel mode.
# This option should only be used with decoupled projects. For more details, visit
# https://developer.android.com/r/tools/gradle-multi-project-decoupled-projects
# org.gradle.parallel=true
# AndroidX package structure to make it clearer which packages are bundled with the
# Android operating system, and which are packaged with your app's APK
# https://developer.android.com/topic/libraries/support-library/androidx-rn
android.useAndroidX=true
# Kotlin code style for this project: "official" or "obsolete":
kotlin.code.style=official
# Enables namespacing of each library's R class so that its R class includes only the
# resources declared in the library itself and none from the library's dependencies,
# thereby reducing the size of the R class for that library
android.nonTransitiveRClass=true


===== C:\Users\admir\AndroidStudioProjects\Marthian\gradle\libs.versions.toml =====
[versions]
agp = "9.0.0"
coreKtx = "1.17.0"
junit = "4.13.2"
junitVersion = "1.3.0"
espressoCore = "3.7.0"
lifecycleRuntimeKtx = "2.10.0"
activityCompose = "1.12.3"
kotlin = "2.0.21"
composeBom = "2024.09.00"

[libraries]
androidx-core-ktx = { group = "androidx.core", name = "core-ktx", version.ref = "coreKtx" }
junit = { group = "junit", name = "junit", version.ref = "junit" }
androidx-junit = { group = "androidx.test.ext", name = "junit", version.ref = "junitVersion" }
androidx-espresso-core = { group = "androidx.test.espresso", name = "espresso-core", version.ref = "espressoCore" }
androidx-lifecycle-runtime-ktx = { group = "androidx.lifecycle", name = "lifecycle-runtime-ktx", version.ref = "lifecycleRuntimeKtx" }
androidx-activity-compose = { group = "androidx.activity", name = "activity-compose", version.ref = "activityCompose" }
androidx-compose-bom = { group = "androidx.compose", name = "compose-bom", version.ref = "composeBom" }
androidx-compose-ui = { group = "androidx.compose.ui", name = "ui" }
androidx-compose-ui-graphics = { group = "androidx.compose.ui", name = "ui-graphics" }
androidx-compose-ui-tooling = { group = "androidx.compose.ui", name = "ui-tooling" }
androidx-compose-ui-tooling-preview = { group = "androidx.compose.ui", name = "ui-tooling-preview" }
androidx-compose-ui-test-manifest = { group = "androidx.compose.ui", name = "ui-test-manifest" }
androidx-compose-ui-test-junit4 = { group = "androidx.compose.ui", name = "ui-test-junit4" }
androidx-compose-material3 = { group = "androidx.compose.material3", name = "material3" }

[plugins]
android-application = { id = "com.android.application", version.ref = "agp" }
kotlin-compose = { id = "org.jetbrains.kotlin.plugin.compose", version.ref = "kotlin" }



===== C:\Users\admir\AndroidStudioProjects\Marthian\gradle\wrapper\gradle-wrapper.properties =====
#Tue Feb 03 21:08:41 KST 2026
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionSha256Sum=a17ddd85a26b6a7f5ddb71ff8b05fc5104c0202c6e64782429790c933686c806
distributionUrl=https\://services.gradle.org/distributions/gradle-9.1.0-bin.zip
networkTimeout=10000
validateDistributionUrl=true
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists


===== C:\Users\admir\AndroidStudioProjects\Marthian\settings.gradle.kts =====
pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()

        // ??Naver Map SDK repository
        maven("https://repository.map.naver.com/archive/maven")
    }
}

rootProject.name = "MarthianClean"
include(":app")
